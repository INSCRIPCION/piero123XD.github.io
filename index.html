<!DOCTYPE html>
<html>
<head>
    <title>Cliente WebSocket</title>
</head>
<body>
    <input type="text" id="mensaje" placeholder="Escribe un mensaje" onblur="enviarMensaje()">
    
    <script>
        var socket = new WebSocket("ws://localhost:8768");

        socket.onopen = function(event) {
            console.log("Conexión WebSocket abierta");
        };

        socket.onmessage = function(event) {
            console.log("Mensaje recibido del servidor: " + event.data);
        };

        socket.onclose = function(event) {
            if (event.wasClean) {
                console.log("Conexión WebSocket cerrada de manera limpia, código=" + event.code);
            } else {
                console.error("Conexión WebSocket cerrada de manera inesperada");
            }
        };

        socket.onerror = function(error) {
            console.error("Error en la conexión WebSocket: " + error.message);
        };

        function enviarMensaje() {
            var mensaje = document.getElementById("mensaje").value;
            socket.send(mensaje);
        }
    </script>
</body>
</html>
